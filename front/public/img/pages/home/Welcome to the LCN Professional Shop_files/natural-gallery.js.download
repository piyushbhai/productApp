!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("photoswipe"),require("photoswipe/dist/photoswipe-ui-default")):"function"==typeof define&&define.amd?define("NaturalGallery",["photoswipe","photoswipe/dist/photoswipe-ui-default"],e):"object"==typeof exports?exports.NaturalGallery=e(require("photoswipe"),require("photoswipe/dist/photoswipe-ui-default")):t.NaturalGallery=e(t.PhotoSwipe,t.PhotoSwipeUI_Default)}(window,function(t,e){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var o=n(20),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIcon=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("viewBox","0 0 100 100"),e.innerHTML='<use xlink:href="#'+t+'"></use>',e},e.getImageRatio=function(t,e){var n=Number(t.enlargedWidth)/Number(t.enlargedHeight);return e&&(e.min&&n<e.min?n=e.min:e.max&&n>e.max&&(n=e.max)),n}},function(t,e,n){var o=n(5),i=n(7),r="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&o(t)==r}},function(t,e,n){var o=n(6),i=n(35),r=n(36),s="[object Null]",l="[object Undefined]",c=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?l:s:c&&c in Object(t)?i(t):r(t)}},function(t,e,n){var o=n(2).Symbol;t.exports=o},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var o=n(1),i=n(66),r=n(67),s=n(90);t.exports=function(t,e){return o(t)?t:i(t,e)?[t]:r(s(t))}},function(t,e,n){var o=n(14)(Object,"create");t.exports=o},function(t,e,n){var o=n(8);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},function(t,e,n){var o=n(86);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var o=n(42),i=n(46);t.exports=function(t,e){var n=i(t,e);return o(n)?n:void 0}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var o=n(52),i=n(7),r=Object.prototype,s=r.hasOwnProperty,l=r.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(t){return i(t)&&s.call(t,"callee")&&!l.call(t,"callee")};t.exports=c},function(t,e,n){var o=n(4),i=1/0;t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onScroll=function(){this.addRows(1)},e.prototype.onPageAdd=function(){this.addRows(this.getRowsPerPage())},e.prototype.addRows=function(t){var e=this,n=this.visibleCollection.length,o=this.visibleCollection.length?this.visibleCollection[n-1].row+1:0,i=o+t-1,r=this.collection.slice(n);this.organizeItems(r,o,i),r.filter(function(t){return t.row<=i}).forEach(function(t){return e.addItemToDOM(t)}),this.flushBufferedItems(),this.updateNextButtonVisibility()},e.prototype.endResize=function(){t.prototype.endResize.call(this),this.visibleCollection.length&&this.organizeItems(this.visibleCollection)},e}(n(19).AbstractGallery);e.AbstractRowGallery=r},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(31)),r=o(n(37)),s=o(n(62)),l=o(n(104)),c=o(n(105)),u=n(106),a=n(3),p=function(){function t(t,e,n,o){var s=this;this.elementRef=t,this.photoswipeElementRef=n,this.scrollElementRef=o,this.options={gap:3,rowsPerPage:0,showLabels:"hover",lightbox:!1,minRowsAtStart:2,selectable:!1,activable:!1,infiniteScrollOffset:0,photoSwipeOptions:null,cover:!0},this.photoswipeDefaultOptions={bgOpacity:.85,showHideOpacity:!1},this.scrollBufferedItems=[],this.requiredItems=0,this.old_scroll_top=0,this.photoswipeCollection=[],this._collection=[],this._visibleCollection=[],this.options=r.default(e,this.options),this.options.lightbox&&!this.photoswipeElementRef&&console.error("Lightbox option is set to true, but no PhotoSwipe reference is given"),this.flushBufferedItems=i.default(function(){s.scrollBufferedItems.forEach(function(t){t.loadImage(),s.dispatchEvent("item-displayed",t.model)}),s.scrollBufferedItems=[],s.requiredItems&&(s.dispatchEvent("pagination",{offset:s.collection.length,limit:s.requiredItems}),s.requiredItems=0)},500,{leading:!1,trailing:!0})}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleCollection",{get:function(){return this._visibleCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this.visibleCollection.filter(function(t){return t.selected}).map(function(t){return t.model})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.floor(this.elementRef.getBoundingClientRect().width)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionLength",{get:function(){return this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleCollectionLength",{get:function(){return this.visibleCollection.length},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this;this.elementRef.classList.add("natural-gallery-js"),this.nextButton=document.createElement("div"),this.nextButton.classList.add("natural-gallery-next"),this.nextButton.appendChild(a.getIcon("natural-gallery-icon-next")),this.nextButton.style.display="none",this.nextButton.addEventListener("click",function(e){e.preventDefault(),t.onPageAdd()}),this.bodyElementRef=document.createElement("div"),this.bodyElementRef.classList.add("natural-gallery-body"),this.extendToFreeViewport();var e=document.createElement("iframe");this.elementRef.appendChild(e);var n=i.default(function(){return t.startResize()},500,{leading:!0,trailing:!1}),o=i.default(function(){return t.endResize()},500,{leading:!1,trailing:!0});e.contentWindow.addEventListener("resize",function(){o(),n()}),this.elementRef.appendChild(this.bodyElementRef),this.elementRef.appendChild(this.nextButton),this.options.rowsPerPage||this.bindScroll(this.scrollElementRef||document),this.initItems()},t.prototype.addItems=function(t){var e=this;if(t.constructor===Array&&t.length){var n=this.collection.length===this.visibleCollection.length;t.forEach(function(t){var n=s.default(e.options,["lightbox","selectable","activable","gap","showLabels","cover"]),o=new u.Item(n,t);e._collection.push(o),e.photoswipeElementRef&&e.photoswipeCollection.push(e.getPhotoswipeItem(o))}),n&&this.bodyElementRef&&this.onPageAdd()}},t.prototype.selectVisibleItems=function(){return this.visibleCollection.forEach(function(t){return t.select()}),this.selectedItems},t.prototype.unselectAllItems=function(){this.visibleCollection.forEach(function(t){return t.unselect()})},t.prototype.addEventListener=function(t,e){this.elementRef.addEventListener(t,e),"pagination"===t&&this.bodyElementRef&&this.requestItems()},t.prototype.clear=function(){this.empty(),this.requestItems()},t.prototype.getOptions=function(){return this.options},t.prototype.setItems=function(t){this.empty(),this.addItems(t)},t.prototype.initItems=function(){var t=this;if(this.collection.length){var e=this.getEstimatedRowsPerPage(),n=e*this.getEstimatedColumnsPerRow(),o=this.collection.slice(0,n);this.organizeItems(o,0,e),o.forEach(function(e){return t.addItemToDOM(e)}),this.scrollBufferedItems=o;var i=this.collection.slice(this.visibleCollection.length),r=i.length-n;this.requiredItems=Math.min(r,i.length,0),this.flushBufferedItems(),this.updateNextButtonVisibility()}else this.requestItems()},t.prototype.requestItems=function(){var t=this.getEstimatedColumnsPerRow()*this.getRowsPerPage()+1;this.dispatchEvent("pagination",{offset:this.collection.length,limit:t})},t.prototype.getRowsPerPage=function(){if(this.options.rowsPerPage>0)return this.options.rowsPerPage;var t=this.getEstimatedRowsPerPage();return t<this.options.minRowsAtStart?this.options.minRowsAtStart:t},t.prototype.addItemToDOM=function(t,e){var n=this;void 0===e&&(e=this.bodyElementRef),this.visibleCollection.push(t),e.appendChild(t.init()),this.scrollBufferedItems.push(t),this.requiredItems++,this.dispatchEvent("item-added-to-dom",t.model),t.element.addEventListener("select",function(){n.dispatchEvent("select",n.visibleCollection.filter(function(t){return t.selected}).map(function(t){return t.model}))}),t.element.addEventListener("activate",function(t){n.dispatchEvent("activate",{model:t.detail.item.model,clickEvent:t.detail.clickEvent})}),t.element.addEventListener("zoom",function(t){n.openPhotoSwipe(t.detail)})},t.prototype.updateNextButtonVisibility=function(){this.visibleCollection.length===this.collection.length?this.nextButton.style.display="none":this.nextButton.style.display="block"},t.prototype.extendToFreeViewport=function(){if(this.options.rowsPerPage)return this.options.rowsPerPage;this.elementRef.style.minHeight=this.getGalleryVisibleHeight()+10+"px"},t.prototype.getGalleryVisibleHeight=function(){return document.documentElement.clientHeight-this.elementRef.offsetTop},t.prototype.startResize=function(){this.bodyElementRef.classList.add("resizing")},t.prototype.endResize=function(){this.bodyElementRef.classList.remove("resizing")},t.prototype.openPhotoSwipe=function(t){var e=this;if(!this.options.lightbox||this.photoswipeElementRef){var n={index:this.collection.findIndex(function(e){return e===t}),loop:!1};n=Object.assign({},this.photoswipeDefaultOptions,this.options.photoSwipeOptions,n);var o=new l.default(this.photoswipeElementRef,c.default,this.photoswipeCollection,n);o.init(),o.listen("beforeChange",function(t){1===t&&o.getCurrentIndex()===e.visibleCollection.length&&e.onPageAdd()}),this.dispatchEvent("zoom",{item:t.model,photoswipe:o})}else console.error("Lightbox option is set to true, but no PhotoSwipe reference is given")},t.prototype.getPhotoswipeItem=function(t){return{src:t.model.enlargedSrc,w:t.model.enlargedWidth,h:t.model.enlargedHeight,title:t.title}},t.prototype.dispatchEvent=function(t,e){var n=new CustomEvent(t,{detail:e});this.elementRef.dispatchEvent(n)},t.prototype.empty=function(){this.bodyElementRef.innerHTML="",this._visibleCollection=[],this.photoswipeCollection=[],this._collection=[]},t.prototype.bindScroll=function(t){var e=this,n=t,o=null;o=t instanceof Document?t.documentElement:t;var r=i.default(function(){return e.elementRef.classList.add("scrolling")},300,{leading:!0,trailing:!1}),s=i.default(function(){return e.elementRef.classList.remove("scrolling")},300,{leading:!1,trailing:!0});n.addEventListener("scroll",function(){r(),s();var t=e.elementRef.offsetTop+e.elementRef.offsetHeight+e.options.infiniteScrollOffset,n=o.scrollTop-(o.clientTop||0),i=o.clientHeight,l=n-e.old_scroll_top;e.old_scroll_top=n,l>0&&n+i>=t&&e.onScroll()})},t}();e.AbstractGallery=p},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(33))},function(t,e){t.exports=function(t){return t}},function(t,e,n){var o=n(39),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,s=-1,l=i(r.length-e,0),c=Array(l);++s<l;)c[s]=r[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=r[s];return u[e]=n(c),o(t,this,u)}}},function(t,e,n){var o=n(40),i=n(47)(o);t.exports=i},function(t,e,n){var o=n(14),i=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var o=n(5),i=n(0),r="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=o(t);return e==s||e==l||e==r||e==c}},function(t,e,n){var o=n(25),i=n(15);t.exports=function(t){return null!=t&&i(t.length)&&!o(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(29),o(n(30)),o(n(107)),o(n(109))},function(t,e,n){},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=function(t){function e(e,n,o,i){var r=t.call(this,e,n,o,i)||this;if(r.elementRef=e,r.photoswipeElementRef=o,r.scrollElementRef=i,!n.rowHeight||n.rowHeight<=0)throw new Error("Option.rowHeight must be positive");return r}return i(e,t),e.organizeItems=function(t,n,o,i,r){void 0===o&&(o=0),void 0===i&&(i=null),void 0===r&&(r=null),r||(r=o||0);for(var s=t.options,l=1;l<=n.length;l++){var c=n.slice(0,l);if(this.getRowWidth(c.map(function(t){return t.model}),s.rowHeight,s.gap,s.ratioLimit)>=t.width){this.computeSizes(c,t.width,s.gap,r,null,s.ratioLimit);var u=r+1;(null===i||u<=i)&&e.organizeItems(t,n.slice(l),o,i,u);break}if(l===n.length){this.computeSizes(c,null,s.gap,r,s.rowHeight,s.ratioLimit);break}}},e.computeSizes=function(t,e,n,o,i,s){void 0===i&&(i=null);for(var l=t.map(function(t){return t.model}),c=e?this.getRowHeight(l,e,n,s):i,u=(this.getRowWidth(l,c,n,s)-e)/t.length,a=e?u:0,p=0,f=0;f<t.length;f++){var h=t[f],d=r.getImageRatio(h.model,s)*c-a;p+=d-Math.floor(d),d=Math.floor(d),(p>=1||f===t.length-1&&1===Math.round(p))&&(d++,p--),h.width=d,h.height=Math.floor(c),h.row=o,h.last=f===t.length-1,h.style()}},e.getRowWidth=function(t,e,n,o){return n*(t.length-1)+this.getRatios(t,o)*e},e.getRowHeight=function(t,e,n,o){return e/this.getRatios(t,o)-n*(t.length-1)},e.getRatios=function(t,e){return t.reduce(function(t,n){return t+r.getImageRatio(n,e)},0)},e.prototype.addRows=function(e){this.completeLastRow(),t.prototype.addRows.call(this,e)},e.prototype.organizeItems=function(t,n,o){e.organizeItems(this,t,n,o)},e.prototype.endResize=function(){t.prototype.endResize.call(this),this.completeLastRow(),this.flushBufferedItems()},e.prototype.getEstimatedColumnsPerRow=function(){var t=1;return this.options.ratioLimit&&this.options.ratioLimit.min&&(t=this.options.ratioLimit.min),Math.ceil((1/t*this.width+this.options.gap)/(this.options.rowHeight+this.options.gap))},e.prototype.getEstimatedRowsPerPage=function(){return Math.ceil(this.getGalleryVisibleHeight()/(this.options.rowHeight+this.options.gap))+1},e.prototype.completeLastRow=function(){var t=this;if(this.visibleCollection.length){var e=this.visibleCollection[this.visibleCollection.length-1].row,n=this.visibleCollection.filter(function(t){return t.row===e}).length,o=this.collection.slice(this.visibleCollection.length-n);this.organizeItems(o,o[0].row,o[0].row),o.slice(n).filter(function(t){return t.row<=o[0].row}).forEach(function(e){return t.addItemToDOM(e)})}},e}(n(18).AbstractRowGallery);e.Natural=s},function(t,e,n){var o=n(0),i=n(32),r=n(34),s="Expected a function",l=Math.max,c=Math.min;t.exports=function(t,e,n){var u,a,p,f,h,d,m=0,v=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError(s);function b(e){var n=u,o=a;return u=a=void 0,m=e,f=t.apply(o,n)}function _(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-m>=p}function w(){var t=i();if(_(t))return x(t);h=setTimeout(w,function(t){var n=e-(t-d);return g?c(n,p-(t-m)):n}(t))}function x(t){return h=void 0,y&&u?b(t):(u=a=void 0,f)}function R(){var t=i(),n=_(t);if(u=arguments,a=this,d=t,n){if(void 0===h)return function(t){return m=t,h=setTimeout(w,e),v?b(t):f}(d);if(g)return clearTimeout(h),h=setTimeout(w,e),b(d)}return void 0===h&&(h=setTimeout(w,e)),f}return e=r(e)||0,o(n)&&(v=!!n.leading,p=(g="maxWait"in n)?l(r(n.maxWait)||0,e):p,y="trailing"in n?!!n.trailing:y),R.cancel=function(){void 0!==h&&clearTimeout(h),m=0,u=d=a=h=void 0},R.flush=function(){return void 0===h?f:x(i())},R}},function(t,e,n){var o=n(2);t.exports=function(){return o.Date.now()}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(0),i=n(4),r=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,a=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return r;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||u.test(t)?a(t.slice(2),n?2:8):l.test(t)?r:+t}},function(t,e,n){var o=n(6),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0;t.exports=function(t){var e=r.call(t,l),n=t[l];try{t[l]=void 0;var o=!0}catch(t){}var i=s.call(t);return o&&(e?t[l]=n:delete t[l]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var o=n(38),i=n(8),r=n(48),s=n(49),l=Object.prototype,c=l.hasOwnProperty,u=o(function(t,e){t=Object(t);var n=-1,o=e.length,u=o>2?e[2]:void 0;for(u&&r(e[0],e[1],u)&&(o=1);++n<o;)for(var a=e[n],p=s(a),f=-1,h=p.length;++f<h;){var d=p[f],m=t[d];(void 0===m||i(m,l[d])&&!c.call(t,d))&&(t[d]=a[d])}return t});t.exports=u},function(t,e,n){var o=n(21),i=n(22),r=n(23);t.exports=function(t,e){return r(i(t,e,o),t+"")}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var o=n(41),i=n(24),r=n(21),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var o=n(25),i=n(43),r=n(0),s=n(45),l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,a=c.toString,p=u.hasOwnProperty,f=RegExp("^"+a.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||i(t))&&(o(t)?f:l).test(s(t))}},function(t,e,n){var o,i=n(44),r=(o=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!r&&r in t}},function(t,e,n){var o=n(2)["__core-js_shared__"];t.exports=o},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var n=800,o=16,i=Date.now;t.exports=function(t){var e=0,r=0;return function(){var s=i(),l=o-(s-r);if(r=s,l>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var o=n(8),i=n(26),r=n(9),s=n(0);t.exports=function(t,e,n){if(!s(n))return!1;var l=typeof e;return!!("number"==l?i(n)&&r(e,n.length):"string"==l&&e in n)&&o(n[e],t)}},function(t,e,n){var o=n(50),i=n(59),r=n(26);t.exports=function(t){return r(t)?o(t,!0):i(t)}},function(t,e,n){var o=n(51),i=n(16),r=n(1),s=n(53),l=n(9),c=n(55),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=r(t),a=!n&&i(t),p=!n&&!a&&s(t),f=!n&&!a&&!p&&c(t),h=n||a||p||f,d=h?o(t.length,String):[],m=d.length;for(var v in t)!e&&!u.call(t,v)||h&&("length"==v||p&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,m))||d.push(v);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}},function(t,e,n){var o=n(5),i=n(7),r="[object Arguments]";t.exports=function(t){return i(t)&&o(t)==r}},function(t,e,n){(function(t){var o=n(2),i=n(54),r=e&&!e.nodeType&&e,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,l=s&&s.exports===r?o.Buffer:void 0,c=(l?l.isBuffer:void 0)||i;t.exports=c}).call(this,n(27)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,n){var o=n(56),i=n(57),r=n(58),s=r&&r.isTypedArray,l=s?i(s):o;t.exports=l},function(t,e,n){var o=n(5),i=n(15),r=n(7),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&i(t.length)&&!!s[o(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var o=n(20),i=e&&!e.nodeType&&e,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i&&o.process,l=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=l}).call(this,n(27)(t))},function(t,e,n){var o=n(0),i=n(60),r=n(61),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return r(t);var e=i(t),n=[];for(var l in t)("constructor"!=l||!e&&s.call(t,l))&&n.push(l);return n}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var o=n(63),i=n(99)(function(t,e){return null==t?{}:o(t,e)});t.exports=i},function(t,e,n){var o=n(64),i=n(96);t.exports=function(t,e){return o(t,e,function(e,n){return i(t,n)})}},function(t,e,n){var o=n(65),i=n(93),r=n(10);t.exports=function(t,e,n){for(var s=-1,l=e.length,c={};++s<l;){var u=e[s],a=o(t,u);n(a,u)&&i(c,r(u,t),a)}return c}},function(t,e,n){var o=n(10),i=n(17);t.exports=function(t,e){for(var n=0,r=(e=o(e,t)).length;null!=t&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}},function(t,e,n){var o=n(1),i=n(4),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!r.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var o=n(68),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=o(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,o,i){e.push(o?i.replace(r,"$1"):n||t)}),e});t.exports=s},function(t,e,n){var o=n(69),i=500;t.exports=function(t){var e=o(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var o=n(70),i="Expected a function";function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=t.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(r.Cache||o),n}r.Cache=o,t.exports=r},function(t,e,n){var o=n(71),i=n(85),r=n(87),s=n(88),l=n(89);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=l,t.exports=c},function(t,e,n){var o=n(72),i=n(78),r=n(84);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(r||i),string:new o}}},function(t,e,n){var o=n(73),i=n(74),r=n(75),s=n(76),l=n(77);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=l,t.exports=c},function(t,e,n){var o=n(11);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var o=n(11),i="__lodash_hash_undefined__",r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return r.call(e,t)?e[t]:void 0}},function(t,e,n){var o=n(11),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var o=n(11),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?i:e,this}},function(t,e,n){var o=n(79),i=n(80),r=n(81),s=n(82),l=n(83);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=l,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var o=n(12),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var o=n(12);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var o=n(12);t.exports=function(t){return o(this.__data__,t)>-1}},function(t,e,n){var o=n(12);t.exports=function(t,e){var n=this.__data__,i=o(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var o=n(14)(n(2),"Map");t.exports=o},function(t,e,n){var o=n(13);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var o=n(13);t.exports=function(t){return o(this,t).get(t)}},function(t,e,n){var o=n(13);t.exports=function(t){return o(this,t).has(t)}},function(t,e,n){var o=n(13);t.exports=function(t,e){var n=o(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var o=n(91);t.exports=function(t){return null==t?"":o(t)}},function(t,e,n){var o=n(6),i=n(92),r=n(1),s=n(4),l=1/0,c=o?o.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-l?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var o=n(94),i=n(10),r=n(9),s=n(0),l=n(17);t.exports=function(t,e,n,c){if(!s(t))return t;for(var u=-1,a=(e=i(e,t)).length,p=a-1,f=t;null!=f&&++u<a;){var h=l(e[u]),d=n;if(u!=p){var m=f[h];void 0===(d=c?c(m,h,f):void 0)&&(d=s(m)?m:r(e[u+1])?[]:{})}o(f,h,d),f=f[h]}return t}},function(t,e,n){var o=n(95),i=n(8),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];r.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||o(t,e,n)}},function(t,e,n){var o=n(24);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var o=n(97),i=n(98);t.exports=function(t,e){return null!=t&&i(t,e,o)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var o=n(10),i=n(16),r=n(1),s=n(9),l=n(15),c=n(17);t.exports=function(t,e,n){for(var u=-1,a=(e=o(e,t)).length,p=!1;++u<a;){var f=c(e[u]);if(!(p=null!=t&&n(t,f)))break;t=t[f]}return p||++u!=a?p:!!(a=null==t?0:t.length)&&l(a)&&s(f,a)&&(r(t)||i(t))}},function(t,e,n){var o=n(100),i=n(22),r=n(23);t.exports=function(t){return r(i(t,void 0,o),t+"")}},function(t,e,n){var o=n(101);t.exports=function(t){return(null==t?0:t.length)?o(t,1):[]}},function(t,e,n){var o=n(102),i=n(103);t.exports=function t(e,n,r,s,l){var c=-1,u=e.length;for(r||(r=i),l||(l=[]);++c<u;){var a=e[c];n>0&&r(a)?n>1?t(a,n-1,r,s,l):o(l,a):s||(l[l.length]=a)}return l}},function(t,e){t.exports=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}},function(t,e,n){var o=n(6),i=n(16),r=n(1),s=o?o.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||i(t)||!!(s&&t&&t[s])}},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(){function t(t,e){this.options=t,this.model=e,this._selected=!1,this.title=this.getTitleDetails(e.title)}return t.prototype.getTitleDetails=function(t){return t?t.replace(/<(?!\s*br\s*\/?)[^>]+>/gi,""):""},t.prototype.init=function(){var t=this,e=null;this.title&&["always","hover"].indexOf(this.options.showLabels)>-1&&(e=!0);var n=document.createElement("div"),i=document.createElement("div"),r=this.getLinkElement(),s=null,l=null;return this.options.lightbox&&e&&r?((e=r).classList.add("button"),s=i,l=r):this.options.lightbox&&e&&!r?(e=document.createElement("div"),this.options.activable?(l=e,e.classList.add("button"),s=i):s=n):this.options.lightbox&&!e?s=n:!this.options.lightbox&&e&&r?(i=this.getLinkElement(),(e=r).classList.add("button"),l=n):this.options.lightbox||!e||r?this.options.lightbox||e||!r||(i=r,l=r):(e=document.createElement("div"),this.options.activable&&(l=n,e.classList.add("button"))),s&&(s.classList.add("zoomable"),s.addEventListener("click",function(){var e=new CustomEvent("zoom",{detail:t});t._element.dispatchEvent(e)})),l&&(l.classList.add("activable"),l.addEventListener("click",function(e){var n=new CustomEvent("activate",{detail:{item:t,clickEvent:e}});t._element.dispatchEvent(n)})),this.options.cover&&i.classList.add("cover"),i.classList.add("image"),n.classList.add("figure"),n.appendChild(i),this.model.color&&(n.style.backgroundColor=this.model.color),this._element=n,this._image=i,e&&(e.innerHTML=this.title,e.classList.add("title"),"hover"===this.options.showLabels&&e.classList.add("hover"),n.appendChild(e)),this.options.selectable&&(this.model.selected&&this.select(),this._selectBtn=document.createElement("div"),this._selectBtn.appendChild(o.getIcon("natural-gallery-icon-select")),this._selectBtn.classList.add("selectBtn"),this._selectBtn.addEventListener("click",function(e){e.stopPropagation(),t.toggleSelect();var n=new CustomEvent("select",{detail:t});t._element.dispatchEvent(n)}),this._element.appendChild(this._selectBtn)),this.style(),n},t.prototype.style=function(){this._element&&(this._element.style.width=String(this.width+"px"),this._element.style.height=String(this.height+"px"),this._element.style.marginBottom=String(this.options.gap+"px"),this.last?this._element.style.marginRight="0":this._element.style.marginRight=String(this.options.gap+"px"))},t.prototype.loadImage=function(){var t=this,e=document.createElement("img");e.setAttribute("src",this.model.thumbnailSrc),this._image.style.backgroundImage="url("+this.model.thumbnailSrc+")",e.addEventListener("load",function(){t._element.classList.add("loaded")}),e.addEventListener("error",function(){t._element.classList.add("errored")})},t.prototype.toggleSelect=function(){this._selected?this.unselect():this.select()},t.prototype.select=function(){this._selected=!0,this._element.classList.add("selected")},t.prototype.unselect=function(){this._selected=!1,this._element.classList.remove("selected")},t.prototype.getLinkElement=function(){if(this.model.link){var t=document.createElement("a");return t.setAttribute("href",this.model.link),t.classList.add("link"),this.model.linkTarget&&t.setAttribute("target",this.model.linkTarget),t}return null},t.prototype.remove=function(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)},Object.defineProperty(t.prototype,"last",{get:function(){return this._last},set:function(t){this._last=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enlargedWidth",{get:function(){return this.model.enlargedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enlargedHeight",{get:function(){return this.model.enlargedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}();e.Item=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(108),s=n(3),l=function(t){function e(e,n,o,i){var r=t.call(this,e,n,o,i)||this;if(r.elementRef=e,r.photoswipeElementRef=o,r.scrollElementRef=i,!n.columnWidth||n.columnWidth<=0)throw new Error("Option.columnWidth must be positive");return r}return i(e,t),e.organizeItems=function(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=null);var i=t.getEstimatedColumnsPerRow(),r=t.getColumnWidth(),l=o?i*(o-n+1):e.length;l=l>e.length?e.length:l;for(var c=0;c<l;c++){var u=e[c],a=s.getImageRatio(u.model,t.options.ratioLimit);u.last=!0,u.width=Math.floor(r),u.height=u.width/a,u.style()}},e.prototype.init=function(){if(t.prototype.init.call(this),!this.options.infiniteScrollOffset){var e=.5;this.options.ratioLimit&&this.options.ratioLimit.min&&(e=this.options.ratioLimit.min);var n=this.getColumnWidth();this.options.infiniteScrollOffset=-1*n/e}},e.prototype.organizeItems=function(t,n,o){e.organizeItems(this,t,n,o)},e.prototype.initItems=function(){this.addColumns(),t.prototype.initItems.call(this)},e.prototype.onScroll=function(){this.addUntilFill()},e.prototype.onPageAdd=function(){this.addUntilFill()},e.prototype.getEstimatedColumnsPerRow=function(){return Math.ceil((this.width-this.options.gap)/(this.options.columnWidth+this.options.gap))},e.prototype.getEstimatedRowsPerPage=function(){var t=1.75;this.options.ratioLimit&&this.options.ratioLimit.max&&(t=this.options.ratioLimit.max);var e=this.getColumnWidth()/t;return Math.ceil(this.getGalleryVisibleHeight()/e)},e.prototype.addUntilFill=function(){do{this.addItemsToDom(1)}while(this.viewPortIsNotFilled()&&this.visibleCollection.length<this.collection.length)},e.prototype.addItemToDOM=function(e,n){void 0===n&&(n=null);var o=this.getShortestColumn();o.addItem(e),t.prototype.addItemToDOM.call(this,e,o.elementRef)},e.prototype.endResize=function(){t.prototype.endResize.call(this),this.visibleCollection.length&&(this.visibleCollection.length=0,this.addColumns(),this.addUntilFill())},e.prototype.addColumns=function(){this.bodyElementRef.innerHTML="",this.columns=[];for(var t=this.getColumnWidth(),e=0;e<this.getEstimatedColumnsPerRow();e++){var n=new r.Column({width:t,gap:this.options.gap});this.columns.push(n),this.bodyElementRef.appendChild(n.init())}},e.prototype.empty=function(){t.prototype.empty.call(this),this.addColumns()},e.prototype.viewPortIsNotFilled=function(){return this.columns.some(function(t){return t.elementRef.getBoundingClientRect().bottom<document.documentElement.clientHeight})},e.prototype.addItemsToDom=function(t){var e=this.visibleCollection.length,n=this.visibleCollection.length?e:0,o=n+t-1;this.organizeItems(this.collection.slice(e),n,o);for(var i=e;i<this.collection.length;i++){var r=this.collection[i];if(!(i<=o))break;this.addItemToDOM(r)}this.flushBufferedItems(),this.updateNextButtonVisibility()},e.prototype.getColumnWidth=function(){var t=this.getEstimatedColumnsPerRow();return Math.floor((this.width-(t-1)*this.options.gap)/t)},e.prototype.getShortestColumn=function(){return this.columns.reduce(function(t,e){return t?e.height<t.height?e:t:e})},e}(n(19).AbstractGallery);e.Masonry=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.options=t,this.collection=[]}return t.prototype.init=function(){return this._elementRef=document.createElement("div"),this._elementRef.classList.add("column"),this._elementRef.style.marginRight=this.options.gap+"px",this._elementRef.style.width=this.options.width+"px",this._elementRef},t.prototype.addItem=function(t){this.collection.push(t)},Object.defineProperty(t.prototype,"height",{get:function(){return this._elementRef.offsetHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),t}();e.Column=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n,o,i){var r=t.call(this,e,n,o,i)||this;if(r.elementRef=e,r.photoswipeElementRef=o,r.scrollElementRef=i,!n.itemsPerRow||n.itemsPerRow<=0)throw new Error("Option.itemsPerRow must be positive");return r}return i(e,t),e.organizeItems=function(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=null);var i=t.getItemSideSize(),r=o?t.options.itemsPerRow*(o-n+1):e.length;r=r>e.length?e.length:r;for(var s=0;s<r;s++){var l=e[s];l.width=Math.floor(i),l.height=Math.floor(i),l.last=s%t.options.itemsPerRow==t.options.itemsPerRow-1,l.row=Math.floor(s/t.options.itemsPerRow)+n,l.style()}},e.prototype.getEstimatedColumnsPerRow=function(){return this.options.itemsPerRow},e.prototype.getEstimatedRowsPerPage=function(){return Math.ceil(this.getGalleryVisibleHeight()/this.getItemSideSize())},e.prototype.getItemSideSize=function(){var t=this.getEstimatedColumnsPerRow();return(this.width-(t-1)*this.options.gap)/t},e.prototype.organizeItems=function(t,n,o){e.organizeItems(this,t,n,o)},e}(n(18).AbstractRowGallery);e.Square=r}])});
//# sourceMappingURL=natural-gallery.js.map